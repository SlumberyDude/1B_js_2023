## Модуль инициализации

Перед первым запуском приложение необходимо инициализировать. Для этого используется модуль init, который создает 3 базовые роли - USER, ADMIN, OWNER, а также создает аккаунт владельца ресурса с ролью OWNER. При повторных вызовах проверяет наличие роли OWNER в базе данных, находит ее и ничего не делает.

## Система ролей

Кроме названия у ролей есть value, которое определяет уровень прав. Сделано для того, чтобы один ADMIN не мог изменить роль другого ADMIN или даже OWNER. Некоторые ограничения работают сверху-вниз - пользователь не может влиять на других пользователей с большим, чем у него value. Право доступа ограничивает роль снизу, то есть задает минимальное необходимое value, везде выставлено value администратора.


## Код для работы с профилем

Таблицы `users` и `roles` соответствуют ролику "Продвинутый BACKEND.." от Ulbi TV.

между **users** и **roles** устанавливается связь многие-ко-многим через таблицу **user_roles**

---
Используется модуль авторизации `auth`, который зависит от модуля `users` и инкапсулирует логику авторизации на JWT токенах.

Однако, модуль не имеет эндпоинта `/registration` в контроллере, регистрация осуществляется в модуле `profile`.

---
## Модуль профиля

Имеет эндпоинт регистрации, который использует сервис модуля auth, соответственно он подключается как зависимость `authService`.

При обновлении профиля происходит обновление пользователя (для этого доступно только поле email)

Необходимо установить ограничение в правах - "*только администратор и ты сам*"". Так как у меня установлена многоуровневая система ролей, то будет условие "*только роль с правами выше администраторских (в которую также входит и владелец ресурса) и ты сам*"

Полей немного, но можно добавить больше при необходимости. Эндпоинты защищены.

---
## Модуль файла

Позволяет хранить файл либо в БД либо на диске.

## Модуль - Текстовый блок

Использует файл в качестве опционального изображения. Эндпоинты защищены правами.
